(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5126d954"],{"082a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main"},[t.isLoading?e("div",{staticClass:"loader-container"},[e("loader",{attrs:{size:"50px"}})],1):[t._m(0),t.isDevicesView||t.isWithdrawalsView?t._e():e("div",[!t.contract||t.hasSignedAgreement&&t.isDeviceLinked?t._e():e("div",{staticClass:"section"},[e("v-markdown",{attrs:{content:t.contract}})],1),t.isDeviceLinked?t._e():e("div",{staticClass:"section device-linking"},[e("h2",{staticClass:"form-title"},[t._v("To use Auto Reimbursement, you need to link your device first")]),e("router-link",{staticClass:"btn-primary",attrs:{to:"/link"}},[t._v("Link Your Device")])],1),t.isDeviceLinked&&t.hasSignedAgreement?e("div",{staticClass:"section agreement-details"},[e("div",{staticClass:"usage-section"},[e("h3",{staticClass:"section-subtitle"},[t._v("Usage")]),e("div",{staticClass:"usage-grid"},[e("div",{staticClass:"usage-card"},[e("div",{staticClass:"usage-header"},[e("h4",{staticClass:"usage-title"},[t._v("Devices")]),e("router-link",{staticClass:"details-link",attrs:{to:"/my/auto-reimbursement/devices"}},[t._v("\n                                    View details\n                                ")])],1),e("div",{staticClass:"usage-value"},[t._v(t._s(t.deviceCount))]),t.hasSignedAgreement&&!t.hasTerminatedAgreement?e("div",{staticClass:"usage-label"},[t._v("Registered\n                                devices, "+t._s(t.availableSlots)+" available")]):t.hasTerminatedAgreement?e("div",{staticClass:"usage-label"},[t._v("Registered devices, no new\n                                devices will be registered, as you have terminated the agreement")]):t._e()]),e("div",{staticClass:"usage-card"},[e("h4",{staticClass:"usage-title"},[t._v("Balance")]),e("div",{staticClass:"usage-value"},[t._v("€"+t._s(t.financialDetails.balance))]),e("div",{staticClass:"usage-label"},[t._v("Current balance")])]),e("div",{staticClass:"usage-card"},[e("h4",{staticClass:"usage-title"},[t._v("Available")]),e("div",{staticClass:"usage-value"},[t._v("€"+t._s(t.financialDetails.availableForWithdrawal))]),e("div",{staticClass:"usage-label"},[t._v("Available for withdrawal")]),parseFloat(t.financialDetails.availableForWithdrawal)>0?e("button",{staticClass:"btn-withdrawal",attrs:{disabled:t.isWithdrawalProcessing},on:{click:t.requestWithdrawal}},[t._v("\n                                "+t._s(t.isWithdrawalProcessing?"Processing...":"Request withdrawal")+"\n                            ")]):t._e()]),e("div",{staticClass:"usage-card"},[e("div",{staticClass:"usage-header"},[e("h4",{staticClass:"usage-title"},[t._v("Pending")]),e("router-link",{staticClass:"details-link",attrs:{to:"/my/auto-reimbursement/withdrawals"}},[t._v("\n                                    View details\n                                ")])],1),e("div",{staticClass:"usage-value"},[t._v("€"+t._s(t.financialDetails.withdrawalPending))]),e("div",{staticClass:"usage-label"},[t._v("Pending withdrawal")])]),e("div",{staticClass:"usage-card"},[e("div",{staticClass:"usage-header"},[e("h4",{staticClass:"usage-title"},[t._v("Completed")]),e("router-link",{staticClass:"details-link",attrs:{to:"/my/auto-reimbursement/withdrawals"}},[t._v("\n                                    View details\n                                ")])],1),e("div",{staticClass:"usage-value"},[t._v("€"+t._s(t.financialDetails.withdrawalCompleted))]),e("div",{staticClass:"usage-label"},[t._v("Completed withdrawal")])])])]),e("div",{staticClass:"agreement-section"},[e("h2",{staticClass:"form-title"},[t._v("Automatic Reimbursement Agreement")]),t.hasSignedAgreement&&!t.hasTerminatedAgreement?e("p",[t._v("You have signed an "),e("span",{staticClass:"clickable-text",on:{click:t.toggleAgreementText}},[t._v("automatic\n                            reimbursement agreement")]),t._v(" with the following details:")]):t.hasTerminatedAgreement?e("p",[t._v("You have terminated an "),e("span",{staticClass:"clickable-text",on:{click:t.toggleAgreementText}},[t._v("\n                            automatic\n                            reimbursement agreement")]),t._v(", no new devices will be registered")]):t._e(),t.showAgreementText?e("div",{staticClass:"agreement-text-container"},[e("v-markdown",{attrs:{content:t.contract}}),e("div",{staticClass:"text-close-button"},[e("button",{staticClass:"btn-secondary",on:{click:t.toggleAgreementText}},[t._v("Close")])])],1):t._e(),e("div",{staticClass:"details-container"},[e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Name:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.name))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Address:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.address))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("City:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.city))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("State/Province:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.state))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Postal/Zip Code:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.index))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Country:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.country))])]),e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Payout Details:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.agreementDetails.bank_details))])]),t.hasSignedAgreement&&!t.hasTerminatedAgreement?e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Signed At:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.formattedSignedDate))])]):t._e(),t.hasTerminatedAgreement?e("div",{staticClass:"detail-row"},[e("span",{staticClass:"detail-label"},[t._v("Terminated At:")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.formattedTerminatedDate))])]):t._e()]),e("br"),t._m(1)])]):t._e()]),t.isDevicesView&&t.isDeviceLinked&&t.hasSignedAgreement?e("div",{staticClass:"devices-details"},[e("div",{staticClass:"back-section"},[e("router-link",{staticClass:"back-link",attrs:{to:"/my/auto-reimbursement"}},[t._v("\n                    ← Back to Auto Reimbursement\n                ")])],1),e("h2",{staticClass:"section-title"},[t._v("Registered Devices")]),t.loadingDevices?e("div",{staticClass:"loader-container"},[e("loader",{attrs:{size:"30px"}})],1):e("div",[0===t.devices.length?e("div",{staticClass:"no-items-notice"},[t._v("\n                    No items to show\n                ")]):t.isMobile?e("div",{staticClass:"devices"},[t._l(t.devices,(function(a){return e("div",{key:a.udid,staticClass:"device"},[e("span",{staticClass:"device__heading"},[t._v("UDID")]),e("span",[t._v(t._s(a.udid))]),e("span",{staticClass:"device__heading"},[t._v(t._s(t.$t("PURCHASE_DATE")))]),e("span",[t._v(t._s(new Date(1e3*a.added_at).toLocaleDateString()))]),e("span",{staticClass:"device__heading"},[t._v("Current end date")]),e("span",[t._v(t._s(new Date(1e3*a.expires_at).toLocaleDateString()))]),e("span",{staticClass:"device__heading"},[t._v("Status")]),e("span",[e("span",{staticClass:"status-indicator",class:1e3*a.expires_at>Date.now()?"status-indicator--negative":"status-indicator--positive"},[t._v("\n                                "+t._s(1e3*a.expires_at>Date.now()?"Active, removal not allowed":"Inactive, removal allowed")+"\n                            ")])])])})),t.deviceResetAt?e("important-message",{staticClass:"device-reset-message",attrs:{type:"notice"}},[t._v("\n                        You can log in to "),e("a",{attrs:{target:"_blank",href:"https://developer.apple.com/account/resources/devices/list"}},[t._v("Device list")]),t._v(" and\n                        remove inactive devices after "+t._s(t.formatDeviceResetDate)+". If there are active devices with\n                        end of your membership, "),e("strong",[t._v("you need to renew it with Apple")]),t._v(" in order to\n                        continue to receive automatic reimbursement.\n                    ")]):t._e()],2):e("div",{staticClass:"table-devices-wrapper"},[e("table",{staticClass:"table-devices"},[e("thead",{staticClass:"table-devices__head table-devices__row"},[e("tr",[e("th",{staticClass:"table-devices__cell"},[t._v("UDID")]),e("th",{staticClass:"table-devices__cell"},[t._v(t._s(t.$t("PURCHASE_DATE")))]),e("th",{staticClass:"table-devices__cell"},[t._v("Current end date")]),e("th",{staticClass:"table-devices__cell"},[t._v("Status")])])]),e("tbody",t._l(t.devices,(function(a){return e("tr",{key:a.udid,staticClass:"table-devices__row"},[e("td",{staticClass:"table-devices__cell"},[t._v(t._s(a.udid))]),e("td",{staticClass:"table-devices__cell"},[t._v("\n                                    "+t._s(new Date(1e3*a.added_at).toLocaleDateString())+"\n                                ")]),e("td",{staticClass:"table-devices__cell"},[t._v("\n                                    "+t._s(new Date(1e3*a.expires_at).toLocaleDateString())+"\n                                ")]),e("td",{staticClass:"table-devices__cell"},[e("span",{staticClass:"status-indicator",class:1e3*a.expires_at>Date.now()?"status-indicator--negative":"status-indicator--positive"},[t._v("\n                                        "+t._s(1e3*a.expires_at>Date.now()?"Active, removal not allowed":"Inactive, removal allowed")+"\n                                    ")])])])})),0)]),t.deviceResetAt?e("important-message",{staticClass:"device-reset-message",attrs:{type:"notice"}},[t._v("\n                        You can log in to "),e("a",{attrs:{target:"_blank",href:"https://developer.apple.com/account/resources/devices/list"}},[t._v("Device list")]),t._v(" and\n                        remove inactive devices after "+t._s(t.formatDeviceResetDate)+". If there are active devices with\n                        end of your membership, "),e("strong",[t._v("you need to renew it with Apple")]),t._v(" in order to\n                        continue to receive automatic reimbursement.\n                    ")]):t._e()],1)])]):t._e(),t.isWithdrawalsView&&t.isDeviceLinked&&t.hasSignedAgreement?e("div",{staticClass:"withdrawals-details"},[e("div",{staticClass:"back-section"},[e("router-link",{staticClass:"back-link",attrs:{to:"/my/auto-reimbursement"}},[t._v("\n                    ← Back to Auto Reimbursement\n                ")])],1),e("h2",{staticClass:"section-title"},[t._v("Withdrawal History")]),t.loadingWithdrawals?e("div",{staticClass:"loader-container"},[e("loader",{attrs:{size:"30px"}})],1):e("div",[0===t.withdrawals.length?e("div",{staticClass:"no-items-notice"},[t._v("\n                    No items to show\n                ")]):t.isMobile?e("div",{staticClass:"withdrawals"},t._l(t.withdrawals,(function(a){return e("div",{key:a.id,staticClass:"withdrawal"},[e("span",{staticClass:"withdrawal__heading"},[t._v("ID")]),e("span",[t._v("#"+t._s(a.id))]),e("span",{staticClass:"withdrawal__heading"},[t._v("Amount")]),e("span",[t._v("€"+t._s(t.formatCurrency(a.amount_eur)))]),e("span",{staticClass:"withdrawal__heading"},[t._v("Status")]),e("span",[e("div",[t._v(t._s(a.status_translated))]),a.status_text?e("div",{staticClass:"withdrawal__status-text"},[t._v("\n                                "+t._s(a.status_text)+"\n                            ")]):t._e()]),e("span",{staticClass:"withdrawal__heading"},[t._v("Date")]),e("span",[t._v(t._s(new Date(1e3*a.added_at).toLocaleDateString()))]),e("span",{staticClass:"withdrawal__heading"},[t._v("Invoice")]),e("span",[a.invoice_uri?e("a",{staticClass:"invoice-link",attrs:{href:a.invoice_uri,target:"_blank"}},[t._v("Download")]):t._e()])])})),0):e("div",{staticClass:"table-withdrawals-wrapper"},[e("table",{staticClass:"table-withdrawals"},[t._m(2),e("tbody",t._l(t.withdrawals,(function(a){return e("tr",{key:a.id,staticClass:"table-withdrawals__row"},[e("td",{staticClass:"table-withdrawals__cell"},[t._v("#"+t._s(a.id))]),e("td",{staticClass:"table-withdrawals__cell"},[t._v("€"+t._s(t.formatCurrency(a.amount_eur))+"\n                                ")]),e("td",{staticClass:"table-withdrawals__cell"},[e("div",[t._v(t._s(a.status_translated))]),a.status_text?e("div",{staticClass:"table-withdrawals__status-text"},[t._v("\n                                        "+t._s(a.status_text)+"\n                                    ")]):t._e()]),e("td",{staticClass:"table-withdrawals__cell"},[t._v("\n                                    "+t._s(new Date(1e3*a.added_at).toLocaleDateString())+"\n                                ")]),e("td",{staticClass:"table-withdrawals__cell"},[a.invoice_uri?e("a",{staticClass:"invoice-link",attrs:{href:a.invoice_uri,target:"_blank"}},[t._v("Download")]):t._e()])])})),0)])])])]):t._e(),t.hasSignedAgreement&&!t.hasTerminatedAgreement||!t.isDeviceLinked||t.isWithdrawalsView||t.isDevicesView?!t.isDevicesView&&!t.isWithdrawalsView||t.isDeviceLinked?t._e():e("div",{staticClass:"section device-linking"},[e("h2",{staticClass:"form-title"},[t._v("To view this page, you need to link your device first")]),e("router-link",{staticClass:"btn-primary",attrs:{to:"/link"}},[t._v("Link Your Device")])],1):e("div",{staticClass:"section form-section"},[e("h2",{staticClass:"form-title"},[t._v('To enable automatic reimbursement please fill in this form and click\n                "continue".\n                Submitting of this form creates legal binding between you and appdb.')]),e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Name, Surname")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"address"}},[t._v("Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",required:""},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"city"}},[t._v("City")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.city,expression:"formData.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",required:""},domProps:{value:t.formData.city},on:{input:function(e){e.target.composing||t.$set(t.formData,"city",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"state"}},[t._v("State/Province")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.state,expression:"formData.state"}],staticClass:"form-control",attrs:{type:"text",id:"state"},domProps:{value:t.formData.state},on:{input:function(e){e.target.composing||t.$set(t.formData,"state",e.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"index"}},[t._v("Postal/Zip Code")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.index,expression:"formData.index"}],staticClass:"form-control",attrs:{type:"text",id:"index",required:""},domProps:{value:t.formData.index},on:{input:function(e){e.target.composing||t.$set(t.formData,"index",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"country"}},[t._v("Country")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.country,expression:"formData.country"}],staticClass:"form-control",attrs:{id:"country",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"country",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select a country")]),t._l(t.countries,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+"\n                            ")])}))],2)])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"bank_details"}},[t._v("Payout Details")]),e("p",{staticClass:"bank-info"},[t._v("We support payouts via PayPal, wise.com or SWIFT bank transfer. Account\n                        should be opened in your name, we can not transfer funds to third party accounts.")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.bank_details,expression:"formData.bank_details"}],staticClass:"form-control",attrs:{id:"bank_details",required:"",rows:"4"},domProps:{value:t.formData.bank_details},on:{input:function(e){e.target.composing||t.$set(t.formData,"bank_details",e.target.value)}}})]),t._m(3)])])]],2)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"reimbursement-info"},[e("p",[t._v("With usage of automatic reimbursement you are getting reimbursement every day, as far as someone is\n                using your account securely via appdb. This helps you to get full reimbursement of your account in\n                the end of the year and extend it to further years. While you keep active devices even after a year\n                -\n                reimbursement continues even further to next years!")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("To withdraw from this agreement or change your information, please create ticket in "),e("a",{attrs:{href:"https://appdb.to/my/support"}},[t._v("support desk")]),t._v(".\n                    ")])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"table-withdrawals__head table-withdrawals__row"},[e("tr",[e("th",{staticClass:"table-withdrawals__cell"},[t._v("ID")]),e("th",{staticClass:"table-withdrawals__cell"},[t._v("Amount")]),e("th",{staticClass:"table-withdrawals__cell"},[t._v("Status")]),e("th",{staticClass:"table-withdrawals__cell"},[t._v("Date")]),e("th",{staticClass:"table-withdrawals__cell"},[t._v("Invoice")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v("Continue")])])}],n=a("a026"),r=a("555f"),o=a("e7a4"),l=a("f780"),c={components:{Loader:r["a"],VMarkdown:o["a"],ImportantMessage:l["a"]},data:function(){return{isLoading:!0,contract:"",submitting:!1,showAgreementText:!1,countries:["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],formData:{name:"",address:"",country:"",index:"",city:"",state:"",bank_details:""},devices:[],loadingDevices:!1,withdrawals:[],loadingWithdrawals:!1,isWithdrawalProcessing:!1}},computed:{title:function(){return"Auto Reimbursement"},metaInfo:function(){return{title:"Auto Reimbursement",meta:[{name:"description",content:"Auto Reimbursement information"},{name:"keywords",content:"auto, reimbursement"}]}},hasSignedAgreement:function(){var t;return null===(t=this.$store.getters.config)||void 0===t||null===(t=t.plus_account)||void 0===t?void 0:t.automatic_reimbursement_signed_at},hasTerminatedAgreement:function(){var t;return null===(t=this.$store.getters.config)||void 0===t||null===(t=t.plus_account)||void 0===t?void 0:t.automatic_reimbursement_terminated_at},agreementDetails:function(){var t,e=(null===(t=this.$store.getters.config)||void 0===t?void 0:t.plus_account)||{};return{name:e.automatic_reimbursement_name||"",address:e.automatic_reimbursement_address||"",country:e.automatic_reimbursement_country||"",index:e.automatic_reimbursement_index||"",city:e.automatic_reimbursement_city||"",state:e.automatic_reimbursement_state||"",bank_details:e.automatic_reimbursement_bank_details||"",signed_at:e.automatic_reimbursement_signed_at||0,terminated_at:e.automatic_reimbursement_terminated_at||0}},deviceResetAt:function(){var t;return(null===(t=this.$store.getters.config)||void 0===t||null===(t=t.plus_account)||void 0===t?void 0:t.device_reset_at)||null},formatDeviceResetDate:function(){return this.deviceResetAt?new Date(1e3*this.deviceResetAt).toLocaleDateString():""},formattedSignedDate:function(){if(!this.agreementDetails.signed_at)return"";var t=new Date(1e3*this.agreementDetails.signed_at);return t.toLocaleString()},formattedTerminatedDate:function(){if(!this.agreementDetails.terminated_at)return"";var t=new Date(1e3*this.agreementDetails.terminated_at);return t.toLocaleString()},deviceCount:function(){var t;return(null===(t=this.$store.getters.config)||void 0===t||null===(t=t.plus_account)||void 0===t?void 0:t.automatic_reimbursement_devices_amount)||0},isDevicesView:function(){return this.$route.path.endsWith("/devices")},isMobile:function(){return window.innerWidth<768},financialDetails:function(){var t,e=(null===(t=this.$store.getters.config)||void 0===t?void 0:t.plus_account)||{};return{balance:this.formatCurrency(e.automatic_reimbursement_balance_eur),availableForWithdrawal:this.formatCurrency(e.automatic_reimbursement_available_for_withdrawal_eur),withdrawalPending:this.formatCurrency(e.automatic_reimbursement_withdrawal_pending_eur),withdrawalCompleted:this.formatCurrency(e.automatic_reimbursement_withdrawal_completed_eur)}},availableSlots:function(){var t,e=(null===(t=this.$store.getters.config)||void 0===t?void 0:t.plus_account)||{},a=parseInt(e.used_slots)||0,i=20-a;return i<0&&(i=0),i},isWithdrawalsView:function(){return this.$route.path.endsWith("/withdrawals")},isDeviceLinked:function(){return this.$store.getters.isDeviceLinked}},watch:{isDevicesView:function(t){t&&0===this.devices.length&&this.isDeviceLinked&&this.loadDevices()},isWithdrawalsView:function(t){t&&0===this.withdrawals.length&&this.isDeviceLinked&&this.loadWithdrawals()}},created:function(){var t=this;this.isLoading=!0,this.$api.post("get_defaults",{for:"auto_reimbursement_md"},!1).then((function(e){e.success&&e.data?t.contract=e.data.contract||"":console.error("Failed to fetch markdown content:",e)})).catch((function(t){console.error("Error fetching markdown content:",t)})).finally((function(){t.isLoading=!1,t.isDeviceLinked&&(t.isDevicesView?t.loadDevices():t.isWithdrawalsView&&t.loadWithdrawals())}))},methods:{formatCurrency:function(t){var e=parseFloat(t)||0;return e.toFixed(2)},toggleAgreementText:function(){this.showAgreementText=!this.showAgreementText},submitForm:function(){var t=this;this.submitting||(this.submitting=!0,this.$api.post("edit_plus_dev_account_reimbursement_settings",{name:this.formData.name,address:this.formData.address,country:this.formData.country,index:this.formData.index,city:this.formData.city,state:this.formData.state,bank_details:this.formData.bank_details},!0).then((function(){return t.$store.dispatch("getConfig").then((function(){return t.$store.dispatch("getDevices")})).then((function(){n["default"].notify({type:"success",text:"Agreement has been successfully signed"})}))})).catch((function(t){console.error("Error submitting form:",t)})).finally((function(){t.submitting=!1})))},loadDevices:function(){var t=this;this.loadingDevices=!0,this.$api.getP2PPurchases({type:"premium"}).then((function(e){t.devices=e.data||[]})).catch((function(t){console.error("Error loading devices:",t),n["default"].notify({type:"error",text:"Failed to load registered devices"})})).finally((function(){t.loadingDevices=!1}))},loadWithdrawals:function(){var t=this;this.loadingWithdrawals=!0,this.$api.getWithdrawals().then((function(e){t.withdrawals=e.data||[]})).catch((function(t){console.error("Error loading withdrawals:",t),n["default"].notify({type:"error",text:"Failed to load withdrawal history"})})).finally((function(){t.loadingWithdrawals=!1}))},requestWithdrawal:function(){var t=this;if(!this.isWithdrawalProcessing){this.isWithdrawalProcessing=!0;var e=this.financialDetails.availableForWithdrawal,a="Are you sure to withdraw €".concat(e," to your configured payment method?");this.$confirm(a,{yesOrNo:!0}).then((function(){return t.$api.post("request_withdrawal",{},!0)})).then((function(){return t.$store.dispatch("getConfig")})).then((function(){return t.$store.dispatch("getDevices")})).then((function(){t.$router.push("/my/auto-reimbursement/withdrawals")})).catch((function(t){t&&console.error("Withdrawal request failed:",t)})).finally((function(){t.isWithdrawalProcessing=!1}))}}}},d=c,u=(a("8f4a"),a("2877")),v=Object(u["a"])(d,i,s,!1,null,"84c4b4c2",null);e["default"]=v.exports},1890:function(t,e,a){},"677c":function(t,e,a){},"8f4a":function(t,e,a){"use strict";a("1890")},b782:function(t,e,a){"use strict";a("677c")},f780:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"message",class:t.messageTypeClass},[e("div",{staticClass:"message-content",on:{click:t.handleMessageClick}},[e("div",{staticClass:"message-content-inner"},[t._t("default",(function(){return[t._v(t._s(t.message))]}))],2)]),t.isHideable?e("button",{staticClass:"hide-button",on:{click:function(e){return t.$emit("hide")}}},[t._v("\n    ×\n  ")]):t._e()])},s=[],n={name:"ImportantMessage",props:{type:{type:String,default:"info",validator:function(t){return["info","notice","warning","success","error"].includes(t)}},message:{type:String,default:""},isHideable:{type:Boolean,default:!1}},computed:{messageTypeClass:function(){switch(this.type){case"info":case"success":return"message-info";case"notice":return"message-notice";case"warning":case"error":return"message-warning";default:return"message-info"}}},methods:{handleMessageClick:function(t){var e=t.target;if("A"!==e.tagName&&(e=e.closest("a")),e){if(e.hasAttribute("data-action")){t.preventDefault();var a=e.getAttribute("data-action"),i=document.createElement("button");return i.setAttribute("data-action",a),i.style.display="none",document.body.appendChild(i),i.click(),void document.body.removeChild(i)}var s=e.getAttribute("href");s&&s.startsWith("/")&&!s.match(/^(https?:|mailto:|tel:|ftp:|#)/)&&(t.preventDefault(),this.$router.push(s))}}}},r=n,o=(a("b782"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"570ae0a7",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-5126d954.7c39b4bd.js.map