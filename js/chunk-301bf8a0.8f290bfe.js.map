{"version":3,"sources":["webpack:///./src/views/My/Devices.vue","webpack:///src/views/My/Devices.vue","webpack:///./src/views/My/Devices.vue?041f","webpack:///./src/views/My/Devices.vue?4de9","webpack:///./src/views/My/Devices.vue?0316"],"names":["render","_vm","this","_c","_self","staticClass","attrs","$t","isMobile","email","devices","emailChangeLink","_v","_s","_l","device","key","lt","class","device_active","$store","getters","device_disabled","deviceRemoving","on","$event","switchDeviceMobile","link_type","icon","model","plus","_e","ref","refInFor","preventDefault","removeDevice","ios","canSwitchToDevice","transitioning","switchDevice","isSwitchBack","href","code","qrCodeBg","concat","domProps","link","staticRenderFns","components","qrcode","QrcodeVue","HtmlWithLinks","data","title","isItselfLinkable","computed","_objectSpread","mapState","deviceStr","currentDevice","_this","find","methods","oldLinkToken","localStorage","getItem","console","log","currentLinkType","config","deviceLinkType","deviceLt","match","getDeviceLinkType","deviceModel","toLowerCase","includes","some","d","removeItem","linkType","_this2","setItem","commit","dispatch","then","getCode","finally","setTimeout","e","window","innerWidth","$refs","el","target","_this3","$confirm","$api","unlinkDevice","_this4","getLinkCode","created","component"],"mappings":"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","file":"js/chunk-301bf8a0.8f290bfe.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"main\"},[_c('html-with-links',{staticClass:\"intro\",attrs:{\"tag\":\"h1\",\"html\":_vm.$t('THIS_' + (_vm.isMobile ? 'DEVICE' : 'COMPUTER') + '_IS_LINKED_TO_APPDB', {\n        email: (_vm.devices[0] || {}).email,\n        emailChangeLink: '/my/change-email'\n    })}}),_c('p',{staticClass:\"instruction\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"CLICK_DEVICE_TO_SWITCH\"))+\"\\n  \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"devices\"},_vm._l((_vm.devices),function(device){return _c('div',{key:device.lt,staticClass:\"device\",class:{\n          device_active: device.lt === _vm.$store.getters.lt,\n          device_disabled: _vm.deviceRemoving === device.lt,\n        },on:{\"click\":function($event){return _vm.switchDeviceMobile(device.lt, device.link_type, $event)}}},[_c('div',{staticClass:\"device__img-wrapper\"},[_c('img',{staticClass:\"device__img\",attrs:{\"src\":device.icon}})]),_c('div',{staticClass:\"device__desc\"},[_c('span',{staticClass:\"device__title\"},[_vm._v(\"\\n            \"+_vm._s(device.model)+\"\\n            \"),(device.plus)?_c('span',{staticClass:\"device__pro\"},[_vm._v(\"Plus\")]):_vm._e(),(device.lt !== _vm.$store.getters.lt)?_c('a',{ref:\"removeDevice\",refInFor:true,staticClass:\"device__remove\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeDevice(device.lt)}}},[_vm._v(_vm._s(_vm.deviceRemoving === device.lt\n                  ? _vm.$t(\"REMOVING\")\n                  : _vm.$t(\"REMOVE\")))]):_vm._e()]),_c('span',{staticClass:\"device__info\"},[_vm._v(_vm._s(_vm.$t(\"OS_VERSION\"))+\": \"+_vm._s(device.ios))])]),(device.lt !== _vm.$store.getters.lt && _vm.canSwitchToDevice(device) && !_vm.transitioning)?_c('div',{staticClass:\"device__switch\"},[_c('button',{staticClass:\"device__button\",on:{\"click\":function($event){$event.preventDefault();return _vm.switchDevice(device.lt, device.link_type)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.isSwitchBack(device) ? _vm.$t(\"SWITCH_BACK\") : _vm.$t(\"SWITCH\"))+\"\\n          \")]),_c('div',{staticClass:\"device__switch-text\"},[_vm._v(_vm._s(_vm.$t(\"TO_THIS_DEVICE\")))])]):(device.lt !== _vm.$store.getters.lt && !_vm.canSwitchToDevice(device) && !_vm.transitioning)?_c('div',{staticClass:\"device__switch\"},[_c('div',{staticClass:\"device__switch-text\"},[_vm._v(_vm._s(_vm.$t(\"CAN_BE_USED_ONLY_DIRECTLY\")))])]):_vm._e()])}),0),_c('div',{staticClass:\"link\"},[_c('html-with-links',{staticClass:\"link__title\",attrs:{\"tag\":\"h2\",\"html\":_vm.$t('LINK_NEW_APPLE_SILICON_MAC_USE_APPDB_TOOLS', {          \n        href: '/appdb-tools'\n    })}}),_c('h2',{staticClass:\"link__title\"},[_vm._v(_vm._s(_vm.$t(\"LINK_NEW_DEVICE\")))]),_c('p',{staticClass:\"link__text\"},[_c('a',{attrs:{\"href\":\"https://www.youtube.com/watch?v=Tp3chHFX0NE\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('VIDEO_TUTORIAL')))]),_c('br'),_c('br')]),_c('p',{staticClass:\"link__text\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"IF_YOU_NEED_TO_LINK_NEW_DEVICE_HERES_CODE\"))+\"\\n      \")]),_c('span',{staticClass:\"link__code\"},[_vm._v(_vm._s(_vm.code))]),_c('qrcode',{staticClass:\"link__qr\",attrs:{\"background\":_vm.qrCodeBg,\"value\":`https://a.appdb.to/add/?${_vm.code}`}}),_c('h2',{staticClass:\"link__title\"},[_vm._v(_vm._s(_vm.$t(\"TO_LINK_APPLE_TV\")))]),_c('ul',{staticClass:\"link__list\",domProps:{\"innerHTML\":_vm._s(\n          _vm.$t('LINK_APPLE_TV_STEPS', {\n            link: `https://a.appdb.to/add/?${_vm.code}`,\n          })\n        )}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"main\">\n    <html-with-links\n      tag=\"h1\"\n      class=\"intro\"\n      :html=\"$t('THIS_' + (isMobile ? 'DEVICE' : 'COMPUTER') + '_IS_LINKED_TO_APPDB', {\n          email: (devices[0] || {}).email,\n          emailChangeLink: '/my/change-email'\n      })\"\n    />\n    <p class=\"instruction\">\n      {{ $t(\"CLICK_DEVICE_TO_SWITCH\") }}\n    </p>\n    <div class=\"row\">\n      <div class=\"devices\">\n        <div\n          class=\"device\"\n          v-for=\"device in devices\"\n          :class=\"{\n            device_active: device.lt === $store.getters.lt,\n            device_disabled: deviceRemoving === device.lt,\n          }\"\n          :key=\"device.lt\"\n          @click=\"switchDeviceMobile(device.lt, device.link_type, $event)\"\n        >\n          <div class=\"device__img-wrapper\">\n            <img class=\"device__img\" :src=\"device.icon\" />\n          </div>\n          <div class=\"device__desc\">\n            <span class=\"device__title\">\n              {{ device.model }}\n              <span v-if=\"device.plus\" class=\"device__pro\">Plus</span>\n              <a\n                v-if=\"device.lt !== $store.getters.lt\"\n                ref=\"removeDevice\"\n                href=\"#\"\n                class=\"device__remove\"\n                @click.prevent=\"removeDevice(device.lt)\"\n                >{{\n                  deviceRemoving === device.lt\n                    ? $t(\"REMOVING\")\n                    : $t(\"REMOVE\")\n                }}</a\n              >\n            </span>\n            <span class=\"device__info\"\n              >{{ $t(\"OS_VERSION\") }}: {{ device.ios }}</span\n            >\n          </div>\n          <div class=\"device__switch\" v-if=\"device.lt !== $store.getters.lt && canSwitchToDevice(device) && !transitioning\">\n            <button\n              class=\"device__button\"\n              @click.prevent=\"switchDevice(device.lt, device.link_type)\"\n            >\n              {{ isSwitchBack(device) ? $t(\"SWITCH_BACK\") : $t(\"SWITCH\") }}\n            </button>\n            <div class=\"device__switch-text\">{{ $t(\"TO_THIS_DEVICE\") }}</div>\n          </div>\n          <div class=\"device__switch\" v-else-if=\"device.lt !== $store.getters.lt && !canSwitchToDevice(device) && !transitioning\">\n            <div class=\"device__switch-text\">{{ $t(\"CAN_BE_USED_ONLY_DIRECTLY\") }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"link\">\n\n        <html-with-links\n      tag=\"h2\"\n      class=\"link__title\"\n      :html=\"$t('LINK_NEW_APPLE_SILICON_MAC_USE_APPDB_TOOLS', {          \n          href: '/appdb-tools'\n      })\"\n        />\n        <h2 class=\"link__title\">{{ $t(\"LINK_NEW_DEVICE\") }}</h2>\n        <p class=\"link__text\">\n          <a href=\"https://www.youtube.com/watch?v=Tp3chHFX0NE\" target=\"_blank\">{{ $t('VIDEO_TUTORIAL') }}</a><br/><br/>\n        </p>\n        <p class=\"link__text\">\n          {{ $t(\"IF_YOU_NEED_TO_LINK_NEW_DEVICE_HERES_CODE\") }}\n        </p>\n        <span class=\"link__code\">{{ code }}</span>\n        <qrcode class=\"link__qr\" :background=\"qrCodeBg\" :value=\"`https://a.appdb.to/add/?${code}`\" />\n        <h2 class=\"link__title\">{{ $t(\"TO_LINK_APPLE_TV\") }}</h2>\n        <ul\n          class=\"link__list\"\n          v-html=\"\n            $t('LINK_APPLE_TV_STEPS', {\n              link: `https://a.appdb.to/add/?${code}`,\n            })\n          \"\n        ></ul>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport isItselfLinkable from '@/utils/isItselfLinkable';\nimport QrcodeVue from 'qrcode.vue';\nimport { mapState } from 'vuex';\n\nimport HtmlWithLinks from '@/components/HtmlWithLinks.vue';\n\nexport default {\n  components: { qrcode: QrcodeVue, HtmlWithLinks },\n  data() {\n    return {\n      title: 'My devices',\n      code: '',\n      isMobile: isItselfLinkable(),\n      deviceRemoving: null,\n      transitioning: false,\n    };\n  },\n  computed: {\n    ...mapState(['theme', 'config']),\n    qrCodeBg() {\n      // Always return white for QR code background regardless of theme\n      return '#FFFFFF';\n    },\n    devices() {\n      return this.$store.getters.devices;\n    },\n    deviceStr() {\n      return isItselfLinkable() ? 'iPhone/iPad/iPod/Vision Pro' : 'PC/Mac';\n    },\n    currentDevice() {\n      return this.devices.find(device => device.lt === this.$store.getters.lt) || {};\n    },\n  },\n  methods: {\n    isSwitchBack(device) {\n      const oldLinkToken = localStorage.getItem('old_lt');\n      // Debug output to check values\n      console.log('Switch back check:', {\n        currentLinkType: this.config.link_type,\n        deviceLinkType: device.link_type, \n        oldLinkToken: oldLinkToken,\n        deviceLt: device.lt,\n        match: oldLinkToken === device.lt\n      });\n      \n      // Handle the case where device.link_type is not available\n      const deviceLinkType = device.link_type || this.getDeviceLinkType(device);\n      \n      return this.config.link_type === 'mdm' && \n             deviceLinkType === 'profile' && \n             oldLinkToken === device.lt;\n    },\n    getDeviceLinkType(device) {\n      // Fallback logic to determine device link_type\n      // You may need to adjust this based on your specific app logic\n      const deviceModel = device.model.toLowerCase();\n      if (deviceModel.includes('mac')) {\n        return 'profile'; // Macs typically use profiles\n      }\n      // Default to MDM for other devices if we can't determine\n      return 'mdm';\n    },\n    canSwitchToDevice(device) {\n      if (this.transitioning) {\n        return false;\n      }\n      \n      const oldLinkToken = localStorage.getItem('old_lt');\n      const deviceLinkType = device.link_type || this.getDeviceLinkType(device);\n      \n      // Case 1: current is MDM\n      if (this.config.link_type === 'mdm') {\n        // Can always switch to MDM devices\n        if (deviceLinkType === 'mdm') {\n          return true;\n        }\n        \n        // For profile devices, check if it matches the old_lt\n        if (deviceLinkType === 'profile') {\n          // If old_lt exists but doesn't match any device, clear it\n          if (oldLinkToken && !this.devices.some(d => d.lt === oldLinkToken)) {\n            localStorage.removeItem('old_lt');\n            return false;\n          }\n          \n          // Can switch to profile device only if it matches old_lt\n          return oldLinkToken === device.lt;\n        }\n      }\n      \n      // Case 2: current is profile\n      if (this.config.link_type === 'profile') {\n        // Can switch to MDM devices\n        if (deviceLinkType === 'mdm') {\n          return true;\n        }\n        \n        // For profile devices, check if old_lt doesn't match\n        if (deviceLinkType === 'profile') {\n          // Cannot switch to other profile devices\n          return false;\n        }\n      }\n      \n      // Default fallback\n      return true;\n    },\n    switchDevice(lt, linkType) {\n      this.transitioning = true;\n      \n      if (this.config.link_type === 'profile') {\n        localStorage.setItem('old_lt', this.$store.getters.lt);\n      }\n      \n      this.$store.commit('lt', lt);\n      this.$store.commit('setConfig', {});\n      \n      this.$store.dispatch('getConfig')\n        .then(() => {\n          this.getCode();\n        })\n        .finally(() => {\n          setTimeout(() => {\n            this.transitioning = false;\n          }, 300);\n        });\n    },\n    switchDeviceMobile(lt, linkType, e) {\n      if (window.innerWidth >= 1250 || this.$refs.removeDevice.some(el => el === e.target)) {\n        return;\n      }\n      this.switchDevice(lt, linkType);\n    },\n    removeDevice(lt) {\n      this.$confirm(this.$t('DEVICE_REMOVAL_WARNING'))\n        .then(() => {\n          this.deviceRemoving = lt;\n        })\n        .then(() => this.$api.unlinkDevice(lt))\n        .then(() => this.$store.dispatch('getDevices'))\n        .finally(() => {\n          this.deviceRemoving = null;\n        });\n    },\n    getCode() {\n      this.$api.getLinkCode().then((code) => {\n        this.code = code;\n      });\n    },\n  },\n  created() {\n    this.getCode();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables\";\n\n.main {\n  display: block;\n  flex-grow: 1;\n}\n\n.instruction {\n  display: none;\n\n  @include notebook {\n    display: block;\n    font-size: 12px;\n    margin-bottom: 15px;\n    padding: 0 10px;\n  }\n}\n\n.row {\n  display: flex;\n\n  @include notebook {\n    flex-direction: column;\n  }\n}\n\n.devices {\n  flex-grow: 1;\n}\n\n.device {\n  display: flex;\n  padding: 10px;\n  align-items: center;\n  border-radius: 4px;\n  @include transition;\n\n  &:not(:first-child) {\n    margin-top: 5px;\n  }\n\n  &_active {\n    box-shadow: var(--my-device-shadow);\n    border-color: transparent;\n  }\n\n  &_disabled {\n    pointer-events: none;\n  }\n\n  &__img-wrapper {\n    flex: 0 0 44px;\n    text-align: center;\n    margin-right: 15px;\n  }\n\n  &__img {\n    height: 45px;\n    filter: var(--img-filter);\n  }\n\n  &__title {\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    margin-bottom: 5px;\n  }\n\n  &__pro {\n    text-transform: uppercase;\n    background: $primary;\n    font-size: 11px;\n    font-weight: 700;\n    color: #fff;\n    padding: 3px 3px 2px;\n    margin-left: 5px;\n  }\n\n  &__remove {\n    color: #fa6565;\n    margin-left: 5px;\n  }\n\n  &__desc {\n    flex-grow: 1;\n  }\n\n  &__info {\n    line-height: 21px;\n  }\n\n  &__jail {\n    white-space: nowrap;\n    border-radius: 2.5px;\n    font-size: 12px;\n    padding: 1px 3px 2px;\n    line-height: 10px;\n    position: relative;\n    top: -1px;\n    margin-left: 2px;\n    background: var(--tertiary-accent);\n    color: var(--text-tertiary-accent);\n\n    &_active {\n      background: var(--bg-success);\n      color: #053305;\n    }\n  }\n\n  &__switch {\n    text-align: center;\n    transition: opacity 0.3s ease, transform 0.3s ease;\n    opacity: 1;\n    transform: translateY(0);\n\n    @include notebook {\n      display: none;\n    }\n  }\n\n  &__button {\n    background: var(--bg);\n    border: 1px solid lighten($primary, 20%);\n    border-radius: 2px;\n    color: var(--text-primary);\n    font-size: 12px;\n    padding: 3px 15px;\n    transition: all 0.2s ease;\n    \n    &:hover {\n      background: lighten($primary, 45%);\n    }\n  }\n\n  &__switch-text {\n    color: $text-secondary;\n    font-size: 12px;\n    margin-top: 2px;\n    transition: color 0.2s ease;\n  }\n}\n\n.link {\n  width: 200px;\n  margin-left: 50px;\n  background: var(--secondary-bg);\n  border-radius: 8px;\n  padding: 10px;\n  text-align: center;\n\n  @include notebook {\n    margin: 15px auto 0;\n    width: 100%;\n    max-width: 400px;\n  }\n\n  &__title {\n    font-weight: 500;\n    margin-bottom: 10px;\n    text-align: left;\n  }\n\n  &__text {\n    line-height: 15px;\n    text-align: left;\n  }\n\n  &__code {\n    display: block;\n    font-size: 20px;\n    font-weight: 600;\n    letter-spacing: 5px;\n    margin: 10px 0 5px;\n  }\n\n  &__qr {\n    margin-top: 10px;\n    margin-bottom: 15px;\n  }\n\n  &__list {\n    list-style: decimal inside;\n    text-align: left;\n\n    &::v-deep {\n      li {\n        margin-bottom: 3px;\n        line-height: 18px;\n      }\n\n      strong {\n        font-weight: bold;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Devices.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Devices.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Devices.vue?vue&type=template&id=4595dd9a&scoped=true\"\nimport script from \"./Devices.vue?vue&type=script&lang=js\"\nexport * from \"./Devices.vue?vue&type=script&lang=js\"\nimport style0 from \"./Devices.vue?vue&type=style&index=0&id=4595dd9a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4595dd9a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Devices.vue?vue&type=style&index=0&id=4595dd9a&prod&lang=scss&scoped=true\""],"sourceRoot":""}