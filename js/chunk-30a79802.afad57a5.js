(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30a79802"],{"31c0":function(t,e,i){},3597:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main"},[e("html-with-links",{staticClass:"intro",attrs:{tag:"h1",html:t.$t("THIS_"+(t.isMobile?"DEVICE":"COMPUTER")+"_IS_LINKED_TO_APPDB",{email:(t.devices[0]||{}).email,emailChangeLink:"/my/change-email"})}}),e("p",{staticClass:"instruction"},[t._v("\n    "+t._s(t.$t("CLICK_DEVICE_TO_SWITCH"))+"\n  ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"devices"},t._l(t.devices,(function(i){return e("div",{key:i.lt,staticClass:"device",class:{device_active:i.lt===t.$store.getters.lt,device_disabled:t.deviceRemoving===i.lt,device_switchable:i.lt!==t.$store.getters.lt&&t.canSwitchToDevice(i)&&!t.transitioning},on:{click:function(e){return t.switchDeviceMobile(i.lt,i.link_type,e)}}},[e("div",{staticClass:"device__img-wrapper"},[e("img",{staticClass:"device__img",attrs:{src:i.icon}})]),e("div",{staticClass:"device__desc"},[e("span",{staticClass:"device__title"},[t._v("\n            "+t._s(i.model)+"\n            "),i.plus?e("span",{staticClass:"device__pro"},[t._v("Plus")]):t._e(),i.lt!==t.$store.getters.lt?e("a",{ref:"removeDevice",refInFor:!0,staticClass:"device__remove",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeDevice(i.lt)}}},[t._v(t._s(t.deviceRemoving===i.lt?t.$t("REMOVING"):t.$t("REMOVE")))]):t._e()]),e("span",{staticClass:"device__info"},[t._v(t._s(t.$t("OS_VERSION"))+": "+t._s(i.ios))])]),i.lt!==t.$store.getters.lt&&t.canSwitchToDevice(i)&&!t.transitioning?e("div",{staticClass:"device__switch"},[e("button",{staticClass:"device__button",on:{click:function(e){return e.preventDefault(),t.switchDevice(i.lt,i.link_type)}}},[t._v("\n            "+t._s(t.isSwitchBack(i)?t.$t("SWITCH_BACK"):t.$t("SWITCH"))+"\n          ")]),e("div",{staticClass:"device__switch-text"},[t._v(t._s(t.$t("TO_THIS_DEVICE")))])]):i.lt===t.$store.getters.lt||t.canSwitchToDevice(i)||t.transitioning?t._e():e("div",{staticClass:"device__switch"},[e("div",{staticClass:"device__switch-text"},[t._v(t._s(t.$t("CAN_BE_USED_ONLY_DIRECTLY")))])]),e("div",{staticClass:"device__mobile-indicator"},[i.lt===t.$store.getters.lt?e("span",{staticClass:"device__mobile-no-switch"},[t._v("\n            "+t._s(t.$t("SELECTED_DEVICE"))+"\n          ")]):t.canSwitchToDevice(i)&&!t.transitioning?e("span",{staticClass:"device__mobile-switch"},[t._v("\n            "+t._s(t.$t("SWITCH"))+" â†’\n          ")]):t.canSwitchToDevice(i)||t.transitioning?t.transitioning?e("span",{staticClass:"device__mobile-switch"},[t._v("\n            "+t._s(t.$t("SWITCHING"))+"...\n          ")]):t._e():e("span",{staticClass:"device__mobile-no-switch"},[t._v("\n            "+t._s(t.$t("CAN_BE_USED_ONLY_DIRECTLY"))+"\n          ")])])])})),0),e("div",{staticClass:"link"},[e("html-with-links",{staticClass:"link__title",attrs:{tag:"h2",html:t.$t("LINK_NEW_APPLE_SILICON_MAC_USE_APPDB_TOOLS",{href:"/appdb-tools"})}}),e("h2",{staticClass:"link__title"},[t._v(t._s(t.$t("LINK_NEW_DEVICE")))]),e("p",{staticClass:"link__text"},[e("a",{attrs:{href:"https://www.youtube.com/watch?v=Tp3chHFX0NE",target:"_blank"}},[t._v(t._s(t.$t("VIDEO_TUTORIAL")))]),e("br"),e("br")]),e("p",{staticClass:"link__text"},[t._v("\n        "+t._s(t.$t("IF_YOU_NEED_TO_LINK_NEW_DEVICE_HERES_CODE"))+"\n      ")]),e("span",{staticClass:"link__code"},[t._v(t._s(t.code))]),e("qrcode",{staticClass:"link__qr",attrs:{background:t.qrCodeBg,value:"https://a.appdb.to/add/?".concat(t.code)}}),e("h2",{staticClass:"link__title"},[t._v(t._s(t.$t("TO_LINK_APPLE_TV")))]),e("ul",{staticClass:"link__list",domProps:{innerHTML:t._s(t.$t("LINK_APPLE_TV_STEPS",{link:"https://a.appdb.to/add/?".concat(t.code)}))}})],1)])],1)},s=[],c=i("d262"),r=i("d7b0"),o=i("2f62"),a=i("13a2");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e=d(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t){var e=f(t,"string");return"symbol"===l(e)?e:String(e)}function f(t,e){if("object"!==l(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={components:{qrcode:r["a"],HtmlWithLinks:a["a"]},data:function(){return{title:"My devices",code:"",isMobile:Object(c["a"])(),deviceRemoving:null,transitioning:!1}},computed:v(v({},Object(o["f"])(["theme","config"])),{},{qrCodeBg:function(){return"#FFFFFF"},devices:function(){return this.$store.getters.devices},deviceStr:function(){return Object(c["a"])()?"iPhone/iPad/iPod/Vision Pro":"PC/Mac"},currentDevice:function(){var t=this;return this.devices.find((function(e){return e.lt===t.$store.getters.lt}))||{}}}),methods:{isSwitchBack:function(t){var e=localStorage.getItem("old_lt");console.log("Switch back check:",{currentLinkType:this.config.link_type,deviceLinkType:t.link_type,oldLinkToken:e,deviceLt:t.lt,match:e===t.lt});var i=t.link_type||this.getDeviceLinkType(t);return"mdm"===this.config.link_type&&"profile"===i&&e===t.lt},getDeviceLinkType:function(t){var e=t.model.toLowerCase();return e.includes("mac")?"profile":"mdm"},canSwitchToDevice:function(t){if(this.transitioning)return!1;var e=localStorage.getItem("old_lt"),i=t.link_type||this.getDeviceLinkType(t);if("mdm"===this.config.link_type){if("mdm"===i)return!0;if("profile"===i)return e&&!this.devices.some((function(t){return t.lt===e}))?(localStorage.removeItem("old_lt"),!1):e===t.lt}if("profile"===this.config.link_type){if("mdm"===i)return!0;if("profile"===i)return!1}return!0},switchDevice:function(t,e){var i=this;this.transitioning=!0,"profile"===this.config.link_type&&localStorage.setItem("old_lt",this.$store.getters.lt),this.$store.commit("lt",t),this.$store.commit("setConfig",{}),this.$store.dispatch("getConfig").then((function(){i.getCode()})).finally((function(){setTimeout((function(){i.transitioning=!1}),300)}))},switchDeviceMobile:function(t,e,i){if(!this.$refs.removeDevice||!this.$refs.removeDevice.some((function(t){return t===i.target}))){var n=this.devices.find((function(e){return e.lt===t}));n.lt!==this.$store.getters.lt&&(this.canSwitchToDevice(n)?this.switchDevice(t,e):this.$notify({type:"warning",text:this.$t("CAN_BE_USED_ONLY_DIRECTLY")}))}},removeDevice:function(t){var e=this;this.$confirm(this.$t("DEVICE_REMOVAL_WARNING")).then((function(){e.deviceRemoving=t})).then((function(){return e.$api.unlinkDevice(t)})).then((function(){return e.$store.dispatch("getDevices")})).finally((function(){e.deviceRemoving=null}))},getCode:function(){var t=this;this.$api.getLinkCode().then((function(e){t.code=e}))}},created:function(){this.getCode()}},p=h,m=(i("b466"),i("2877")),g=Object(m["a"])(p,n,s,!1,null,"30021fc0",null);e["default"]=g.exports},b466:function(t,e,i){"use strict";i("31c0")}}]);
//# sourceMappingURL=chunk-30a79802.afad57a5.js.map