{"version":3,"sources":["webpack:///./src/views/SupportDiscussion.vue?5fd7","webpack:///./src/views/SupportDiscussion.vue","webpack:///src/views/SupportDiscussion.vue","webpack:///./src/views/SupportDiscussion.vue?dddf","webpack:///./src/views/SupportDiscussion.vue?7e81"],"names":["render","_vm$$store$state$cust","_vm$$store$state$publ","_vm","this","_c","_self","staticClass","attrs","_v","_s","$t","ticketLoading","ticket","is_moderator","on","$event","showCloseModal","email","_l","devices","device","key","provisioning_udid","concat","link_token","nice_name","os_version","_e","topic","formatDate","added_at","class","status","status_translated","discussionTopic","$store","state","customerProfile","publisherProfile","target","currentTarget","directives","name","rawName","value","deleteTicket","expression","domProps","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","slice","closeTicket","staticRenderFns","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","components","Discussion","BackLink","Loader","metaInfo","ticketText","id","ticketId","title","meta","content","data","pollTimeout","isPolling","closingTicket","computed","match","$route","path","parseInt","methods","timestamp","date","Date","toLocaleString","fetchTicketDetails","_this","_callee","response","_context","$router","$api","getSupportTickets","success","$notify","text","t0","console","_this2","post","st","with_deletion","finally","fetchMessages","_this3","_callee2","discussionComponent","_context2","getMessages","lt","$children","find","child","$options","messages","messagesLoaded","total","dispatch","setTimeout","clearTimeout","startPolling","stopPolling","mounted","beforeDestroy","component"],"mappings":"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","file":"js/chunk-3c6ce055.a4d4f5a4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupportDiscussion.vue?vue&type=style&index=0&id=09169afc&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"support-discussion\"},[_c('div',{staticClass:\"support-discussion__container\"},[_c('back-link',{staticClass:\"back-link\",attrs:{\"to\":\"/my/support\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('BACK_TO_SUPPORT_TICKETS'))+\"\\n        \")]),(_vm.ticketLoading)?_c('div',{staticClass:\"support-discussion__loading\"},[_c('Loader')],1):(_vm.ticket)?_c('div',[(_vm.ticket.is_moderator === 1)?_c('div',{staticClass:\"ticket-moderation\"},[_c('div',{staticClass:\"ticket-moderation__header\"},[_c('h3',{staticClass:\"ticket-moderation__title\"},[_vm._v(\"Ticket moderation\")]),_c('button',{staticClass:\"close-ticket-btn\",on:{\"click\":function($event){_vm.showCloseModal = true}}},[_vm._v(\"Close ticket\")])]),_c('div',{staticClass:\"ticket-moderation__info\"},[_c('div',{staticClass:\"ticket-moderation__email\"},[_vm._v(\"Email: \"+_vm._s(_vm.ticket.email))])]),_c('div',{staticClass:\"ticket-moderation__devices\"},[_c('table',{staticClass:\"devices-table\"},_vm._l((_vm.ticket.devices),function(device){return _c('tr',{key:device.provisioning_udid},[_c('td',[_c('a',{attrs:{\"href\":`https://appdb.to/?lt=${device.link_token}`,\"target\":\"_blank\"}},[_vm._v(\"\\n                                    Device: \"+_vm._s(device.nice_name)+\" \"+_vm._s(device.os_version)+\"\\n                                \")]),_c('span',{staticClass:\"provisioning-udid\"},[_vm._v(_vm._s(device.provisioning_udid))])])])}),0)])]):_vm._e(),_c('div',{staticClass:\"support-discussion__header\"},[_c('h1',{staticClass:\"support-discussion__title\"},[_vm._v(_vm._s(_vm.ticket.topic))]),_c('div',{staticClass:\"support-discussion__meta\"},[_c('div',{staticClass:\"support-discussion__date\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('CREATED'))+\": \"+_vm._s(_vm.formatDate(_vm.ticket.added_at))+\"\\n                    \")]),_c('div',{staticClass:\"support-discussion__status\",class:{ 'support-discussion__status--closed': _vm.ticket.status === 'closed' }},[_vm._v(\"\\n                        \"+_vm._s(_vm.ticket.status_translated)+\"\\n                    \")])])])]):_vm._e(),_c('div',{staticClass:\"support-discussion__content\"},[(_vm.discussionTopic)?_c('Discussion',{attrs:{\"topic\":_vm.discussionTopic,\"isPrivate\":true,\"forceType\":'private',\"canCommentAsUser\":!!_vm.$store.state.customerProfile?.email,\"canCommentAsStaff\":!!_vm.$store.state.publisherProfile?.email,\"disallowNestedComments\":true}}):_c('div',{staticClass:\"support-discussion__loading\"},[_c('Loader')],1)],1)],1),(_vm.showCloseModal)?_c('div',{staticClass:\"modal-backdrop\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.showCloseModal = false}}},[_c('div',{staticClass:\"modal-content\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"Close Ticket\")]),_c('p',{staticClass:\"modal-message\"},[_vm._v(\"Are you really want to close this ticket?\")]),_c('div',{staticClass:\"modal-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.deleteTicket),expression:\"deleteTicket\"}],attrs:{\"type\":\"checkbox\",\"id\":\"deleteTicket\"},domProps:{\"checked\":Array.isArray(_vm.deleteTicket)?_vm._i(_vm.deleteTicket,null)>-1:(_vm.deleteTicket)},on:{\"change\":function($event){var $$a=_vm.deleteTicket,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.deleteTicket=$$a.concat([$$v]))}else{$$i>-1&&(_vm.deleteTicket=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.deleteTicket=$$c}}}}),_c('label',{attrs:{\"for\":\"deleteTicket\"}},[_vm._v(\"Delete it as nonsense\")])]),_c('div',{staticClass:\"modal-actions\"},[_c('button',{staticClass:\"modal-cancel\",on:{\"click\":function($event){_vm.showCloseModal = false}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"modal-confirm\",on:{\"click\":_vm.closeTicket}},[_vm._v(\"Confirm\")])])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"support-discussion\">\n        <div class=\"support-discussion__container\">\n            <back-link class=\"back-link\" to=\"/my/support\">\n                {{ $t('BACK_TO_SUPPORT_TICKETS') }}\n            </back-link>\n\n            <div v-if=\"ticketLoading\" class=\"support-discussion__loading\">\n                <Loader />\n            </div>\n            <div v-else-if=\"ticket\">\n                <!-- Ticket Moderation Section -->\n                <div v-if=\"ticket.is_moderator === 1\" class=\"ticket-moderation\">\n                    <div class=\"ticket-moderation__header\">\n                        <h3 class=\"ticket-moderation__title\">Ticket moderation</h3>\n                        <button class=\"close-ticket-btn\" @click=\"showCloseModal = true\">Close ticket</button>\n                    </div>\n                    <div class=\"ticket-moderation__info\">\n                        <div class=\"ticket-moderation__email\">Email: {{ ticket.email }}</div>\n                    </div>\n                    <div class=\"ticket-moderation__devices\">\n                        <table class=\"devices-table\">\n                            <tr v-for=\"device in ticket.devices\" :key=\"device.provisioning_udid\">\n                                <td>\n                                    <a :href=\"`https://appdb.to/?lt=${device.link_token}`\" target=\"_blank\">\n                                        Device: {{ device.nice_name }} {{ device.os_version }}\n                                    </a> <span class=\"provisioning-udid\">{{\n                                        device.provisioning_udid }}</span>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n\n                <div class=\"support-discussion__header\">\n                    <h1 class=\"support-discussion__title\">{{ ticket.topic }}</h1>\n                    <div class=\"support-discussion__meta\">\n                        <div class=\"support-discussion__date\">\n                            {{ $t('CREATED') }}: {{ formatDate(ticket.added_at) }}\n                        </div>\n                        <div class=\"support-discussion__status\"\n                            :class=\"{ 'support-discussion__status--closed': ticket.status === 'closed' }\">\n                            {{ ticket.status_translated }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"support-discussion__content\">\n                <Discussion v-if=\"discussionTopic\" :topic=\"discussionTopic\" :isPrivate=\"true\" :forceType=\"'private'\"\n                    :canCommentAsUser=\"!!$store.state.customerProfile?.email\"\n                    :canCommentAsStaff=\"!!$store.state.publisherProfile?.email\" :disallowNestedComments=\"true\" />\n                <div v-else class=\"support-discussion__loading\">\n                    <Loader />\n                </div>\n            </div>\n        </div>\n\n        <!-- Close Ticket Modal -->\n        <div v-if=\"showCloseModal\" class=\"modal-backdrop\" @click.self=\"showCloseModal = false\">\n            <div class=\"modal-content\">\n                <h3 class=\"modal-title\">Close Ticket</h3>\n                <p class=\"modal-message\">Are you really want to close this ticket?</p>\n\n                <div class=\"modal-checkbox\">\n                    <input type=\"checkbox\" id=\"deleteTicket\" v-model=\"deleteTicket\">\n                    <label for=\"deleteTicket\">Delete it as nonsense</label>\n                </div>\n\n                <div class=\"modal-actions\">\n                    <button class=\"modal-cancel\" @click=\"showCloseModal = false\">Cancel</button>\n                    <button class=\"modal-confirm\" @click=\"closeTicket\">Confirm</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Discussion from '@/components/Discussion.vue';\nimport BackLink from '@/components/BackLink.vue';\nimport Loader from '@/components/Loader.vue';\n\nexport default {\n    name: 'SupportDiscussion',\n    components: {\n        Discussion,\n        BackLink,\n        Loader\n    },\n    metaInfo() {\n        const ticketText = this.ticket ? this.$t('SUPPORT_TICKET_WITH_ID', { id: this.ticketId, topic: this.ticket.topic }) : this.$t('SUPPORT_TICKET');\n        return {\n            title: ticketText,\n            meta: [\n                {\n                    name: 'description',\n                    content: this.$t('SUPPORT_TICKET_META_DESCRIPTION'),\n                }\n            ]\n        };\n    },\n    data() {\n        return {\n            discussionTopic: null,\n            ticket: null,\n            ticketLoading: true,\n            pollTimeout: null,\n            isPolling: false,\n            showCloseModal: false,\n            deleteTicket: false,\n            closingTicket: false\n        };\n    },\n    computed: {\n        ticketId() {\n            const match = this.$route.path.match(/\\/my\\/support\\/discussion=(\\d+)/);\n            return match ? parseInt(match[1], 10) : null;\n        }\n    },\n    methods: {\n        formatDate(timestamp) {\n            if (!timestamp) return '';\n            const date = new Date(timestamp * 1000);\n            return date.toLocaleString();\n        },\n\n        async fetchTicketDetails() {\n            if (!this.ticketId) {\n                this.$router.push('/my/support');\n                return;\n            }\n\n            this.ticketLoading = true;\n\n            try {\n                const response = await this.$api.getSupportTickets(this.ticketId);\n\n                if (response.success && response.data && response.data.length > 0) {\n                    this.ticket = response.data[0];\n                    this.discussionTopic = `support_${this.ticketId}`;\n                } else {\n                    this.$notify({\n                        type: 'error',\n                        title: this.$t('ERROR'),\n                        text: this.$t('TICKET_NOT_FOUND')\n                    });\n                    this.$router.push('/my/support');\n                }\n            } catch (error) {\n                console.error('Error fetching ticket details:', error);\n                this.$notify({\n                    type: 'error',\n                    title: this.$t('ERROR'),\n                    text: this.$t('FAILED_TO_LOAD_TICKET_DETAILS')\n                });\n                this.$router.push('/my/support');\n            } finally {\n                this.ticketLoading = false;\n            }\n        },\n\n        closeTicket() {\n            if (this.closingTicket) return;\n            this.closingTicket = true;\n\n            this.$api.post('close_support_ticket', {\n                id: this.ticketId,\n                st: this.$store.state.st,\n                with_deletion: this.deleteTicket ? 1 : 0\n            })\n                .then(() => {\n                    this.$notify({\n                        type: 'success',\n                        title: 'Success',\n                        text: 'Ticket has been closed successfully'\n                    });\n\n                    // Update the local ticket status\n                    this.ticket.status = 'closed';\n                    this.ticket.status_translated = 'Closed';\n\n                    // Close the modal\n                    this.showCloseModal = false;\n                    this.deleteTicket = false;\n\n                    // If ticket was deleted, go back to support page\n                    if (this.deleteTicket) {\n                        this.$router.push('/my/support');\n                    }\n                })\n                .catch(error => {\n                    console.error('Error closing ticket:', error);\n                    this.$notify({\n                        type: 'error',\n                        title: this.$t('ERROR'),\n                        text: 'Failed to close the ticket. Please try again.'\n                    });\n                })\n                .finally(() => {\n                    this.closingTicket = false;\n                });\n        },\n\n        async fetchMessages() {\n            if (!this.discussionTopic) return;\n\n            try {\n                const response = await this.$api.getMessages({\n                    topic: this.discussionTopic,\n                    lt: this.$store.state.lt\n                });\n\n                // Find the Discussion component and update its messages directly\n                const discussionComponent = this.$children.find(child => child.$options.name === 'Discussion');\n                if (discussionComponent) {\n                    discussionComponent.messages = response.data || [];\n                    discussionComponent.messagesLoaded = true;\n                    discussionComponent.total = response.total || 0;\n                }\n\n                // Refresh device info\n                await this.$store.dispatch('getDevices');\n\n                // Schedule next poll if we're still polling\n                if (this.isPolling) {\n                    this.pollTimeout = setTimeout(() => {\n                        this.fetchMessages();\n                    }, 15000);\n                }\n            } catch (error) {\n                console.error('Error fetching messages:', error);\n                // Stop polling on error\n                this.isPolling = false;\n                clearTimeout(this.pollTimeout);\n            }\n        },\n\n        startPolling() {\n            this.isPolling = true;\n            this.fetchMessages();\n        },\n\n        stopPolling() {\n            this.isPolling = false;\n            clearTimeout(this.pollTimeout);\n        }\n    },\n    mounted() {\n        this.fetchTicketDetails();\n        this.startPolling();\n    },\n    beforeDestroy() {\n        this.stopPolling();\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.support-discussion {\n    padding: 10px;\n    width: 100%;\n\n    @media (min-width: 768px) {\n        padding: 20px;\n    }\n\n    &__container {\n        position: relative;\n        width: 100%;\n        max-width: 1400px;\n        margin: 0 auto;\n        background-color: var(--bg-primary);\n        border-radius: 8px;\n        padding: 15px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\n        @media (min-width: 768px) {\n            padding: 25px;\n            width: 90%;\n        }\n    }\n\n    &__header {\n        margin-bottom: 20px;\n        padding-bottom: 15px;\n        border-bottom: 1px solid var(--border-color);\n\n        @media (min-width: 768px) {\n            margin-bottom: 30px;\n        }\n    }\n\n    &__title {\n        margin-bottom: 10px;\n        font-size: 20px;\n        font-weight: 600;\n        word-break: break-word;\n\n        @media (min-width: 768px) {\n            font-size: 24px;\n        }\n    }\n\n    &__meta {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n        color: var(--text-secondary);\n        font-size: 14px;\n\n        @media (min-width: 768px) {\n            flex-direction: row;\n            justify-content: space-between;\n            align-items: center;\n        }\n    }\n\n    &__content {\n        min-height: 300px;\n\n        @media (min-width: 768px) {\n            min-height: 500px;\n        }\n    }\n\n    &__loading {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 200px;\n        color: var(--text-secondary);\n    }\n\n    &__status {\n        display: inline-block;\n        padding: 4px 8px;\n        border-radius: 4px;\n        font-size: 12px;\n        font-weight: 600;\n        min-width: 70px;\n        text-align: center;\n\n        /* Status styling - using the same style as in support table */\n        background-color: var(--lighter-primary);\n        color: var(--primary);\n        border: 1px solid rgba(0, 0, 0, 0.05);\n\n        &--closed {\n            background-color: var(--bg-success);\n            color: black;\n        }\n    }\n}\n\n.back-link {\n    display: block;\n    margin-bottom: 15px;\n    color: var(--text-primary);\n\n    &:hover {\n        color: var(--primary);\n    }\n}\n\n/* Ticket Moderation Styles */\n.ticket-moderation {\n    margin-bottom: 20px;\n    padding: 10px;\n    background-color: #f8f9fa;\n    border-radius: 6px;\n    border: 2px solid #e9ecef;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n\n    &__header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 8px;\n    }\n\n    &__title {\n        font-size: 14px;\n        font-weight: 600;\n        color: #495057;\n        letter-spacing: 0.5px;\n        margin: 0;\n    }\n\n    &__info {\n        margin-bottom: 10px;\n    }\n\n    &__email {\n        font-size: 13px;\n        color: #495057;\n        margin-bottom: 8px;\n    }\n\n    &__devices {\n        overflow-x: auto;\n    }\n}\n\n.close-ticket-btn {\n    background-color: #dc3545;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    padding: 5px 10px;\n    font-size: 12px;\n    cursor: pointer;\n    font-weight: 500;\n    transition: background-color 0.2s;\n\n    &:hover {\n        background-color: #c82333;\n    }\n}\n\n.devices-table {\n    width: 100%;\n    border-collapse: collapse;\n\n    td {\n        padding: 6px 8px;\n        font-size: 13px;\n        border-bottom: 1px solid #dee2e6;\n    }\n\n    a {\n        color: var(--primary);\n        text-decoration: none;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n}\n\n.provisioning-udid {\n    color: #6c757d;\n    background-color: rgba(255, 255, 255, 0.7);\n    padding: 1px 4px;\n    border-radius: 3px;\n    font-family: monospace;\n    font-size: 12px;\n}\n\n/* Modal Styles */\n.modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.modal-content {\n    background-color: white;\n    border-radius: 8px;\n    padding: 20px;\n    width: 90%;\n    max-width: 400px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    color: #212529;\n}\n\n.modal-title {\n    font-size: 18px;\n    margin-top: 0;\n    margin-bottom: 15px;\n    color: #212529;\n}\n\n.modal-message {\n    margin-bottom: 20px;\n    color: #495057;\n}\n\n.modal-checkbox {\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n\n    input[type=\"checkbox\"] {\n        margin-right: 8px;\n        width: 18px;\n        height: 18px;\n        accent-color: #dc3545;\n        border: 2px solid #6c757d;\n        cursor: pointer;\n        position: relative;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        background-color: #fff;\n        border-radius: 3px;\n        outline: none;\n\n        &:checked {\n            background-color: #dc3545;\n            border-color: #dc3545;\n        }\n\n        &:checked::after {\n            content: 'âœ“';\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 14px;\n            color: white;\n            font-weight: bold;\n        }\n\n        &:hover {\n            border-color: #dc3545;\n        }\n    }\n\n    label {\n        font-size: 14px;\n        color: #212529;\n        cursor: pointer;\n    }\n}\n\n.modal-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n}\n\n.modal-cancel,\n.modal-confirm {\n    padding: 8px 16px;\n    border-radius: 4px;\n    font-size: 14px;\n    cursor: pointer;\n    border: none;\n}\n\n.modal-cancel {\n    background-color: #f8f9fa;\n    color: #495057;\n    border: 1px solid #ced4da;\n\n    &:hover {\n        background-color: #e9ecef;\n    }\n}\n\n.modal-confirm {\n    background-color: #dc3545;\n    color: white;\n\n    &:hover {\n        background-color: #c82333;\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupportDiscussion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupportDiscussion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SupportDiscussion.vue?vue&type=template&id=09169afc&scoped=true\"\nimport script from \"./SupportDiscussion.vue?vue&type=script&lang=js\"\nexport * from \"./SupportDiscussion.vue?vue&type=script&lang=js\"\nimport style0 from \"./SupportDiscussion.vue?vue&type=style&index=0&id=09169afc&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09169afc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}